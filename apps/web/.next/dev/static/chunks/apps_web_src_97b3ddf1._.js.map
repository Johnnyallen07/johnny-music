{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n    React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n    React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n    <ScrollAreaPrimitive.Root\n        ref={ref}\n        className={cn(\"relative overflow-hidden\", className)}\n        {...props}\n    >\n        <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n            {children}\n        </ScrollAreaPrimitive.Viewport>\n        <ScrollBar />\n        <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n    React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n    React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n        ref={ref}\n        orientation={orientation}\n        className={cn(\n            \"flex touch-none select-none transition-colors\",\n            orientation === \"vertical\" &&\n            \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n            orientation === \"horizontal\" &&\n            \"h-2.5 border-t border-t-transparent p-[1px]\",\n            className\n        )}\n        {...props}\n    >\n        <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAClC,6LAAC,qLAAwB;QACrB,KAAK;QACL,WAAW,IAAA,2IAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAAC,WAAU;0BACnC;;;;;;0BAEL,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;AAGnC,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBAClD,6LAAC,oMAAuC;QACpC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,2IAAE,EACT,iDACA,gBAAgB,cAChB,sDACA,gBAAgB,gBAChB,+CACA;QAEH,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;MAjBjD;AAoBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/utils/iconMapping.tsx"],"sourcesContent":["import {\n    Music,\n    Music2,\n    Music4,\n    Mic2,\n    Guitar,\n    Disc3,\n    Disc2,\n    FileMusic,\n    ListMusic,\n    Users,\n    AudioLines\n} from 'lucide-react';\nimport { LucideIcon } from 'lucide-react';\nimport { MusicInfo } from '@johnny/api';\n\nexport const getCategoryIcon = (category: string): LucideIcon => {\n    const lower = category.toLowerCase();\n\n    // Specific Combinations first\n    if (lower.includes('duet') || lower.includes('couple') || lower.includes('collabor') || lower.includes('+')) return Users;\n\n    // Piano\n    if (lower.includes('piano') || lower.includes('钢琴')) {\n        if (lower.includes('concerto') || lower.includes('协奏')) return Disc2; // Piano Concerto -> Disc (Orchestral)\n        if (lower.includes('trio') || lower.includes('quartet') || lower.includes('quintet')) return Users; // Chamber\n        return Music4; // Piano Solo / Generic Piano -> Music4\n    }\n\n    // Violin\n    if (lower.includes('violin') || lower.includes('小提琴')) {\n        if (lower.includes('concerto') || lower.includes('协奏')) return AudioLines; // Violin Concerto -> AudioLines (Complex)\n        return Music; // Violin Solo -> Music (Single note)\n    }\n\n    // Cello\n    if (lower.includes('cello') || lower.includes('大提琴')) {\n        if (lower.includes('concerto') || lower.includes('协奏')) return AudioLines;\n        return Music;\n    }\n\n    // Large Works\n    if (lower.includes('symphony') || lower.includes('交响')) return Disc3;\n    if (lower.includes('concerto') || lower.includes('协奏')) return Disc2; // Generic Concerto\n\n    // Forms\n    if (lower.includes('sonata') || lower.includes('奏鸣')) return FileMusic;\n    if (lower.includes('chamber') || lower.includes('室内')) return Users;\n    if (lower.includes('opera') || lower.includes('歌剧') || lower.includes('vocal') || lower.includes('声乐')) return Mic2;\n\n    // Guitar\n    if (lower.includes('guitar') || lower.includes('吉他')) return Guitar;\n\n    // General\n    if (lower.includes('all music') || lower.includes('所有音乐')) return ListMusic;\n\n    return Music2; // Default\n};\n\nexport const getSongIcon = (song: MusicInfo): LucideIcon => {\n    // Use category + title for better matching\n    const category = (song.category || '').toLowerCase();\n    const title = (song.title || '').toLowerCase();\n    const combined = `${category} ${title}`;\n\n    if (combined.includes('duet') || combined.includes('+')) return Users;\n\n    if (combined.includes('piano') || combined.includes('钢琴')) {\n        if (combined.includes('concerto') || combined.includes('协奏')) return Disc2;\n        return Music4;\n    }\n\n    if (combined.includes('violin') || combined.includes('小提琴')) {\n        if (combined.includes('concerto') || combined.includes('协奏')) return AudioLines;\n        return Music;\n    }\n\n    if (combined.includes('cello') || combined.includes('大提琴')) {\n        if (combined.includes('concerto') || combined.includes('协奏')) return AudioLines;\n        return Music;\n    }\n\n    if (combined.includes('symphony') || combined.includes('交响')) return Disc3;\n    if (combined.includes('concerto') || combined.includes('协奏')) return Disc2;\n    if (combined.includes('sonata') || combined.includes('奏鸣')) return FileMusic;\n    if (combined.includes('guitar') || combined.includes('吉他')) return Guitar;\n    if (combined.includes('opera') || combined.includes('歌剧') || combined.includes('vocal') || combined.includes('声乐')) return Mic2;\n\n    return Music2;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/Sidebar.tsx"],"sourcesContent":["import { ListMusic, Music2, Users, Disc } from \"lucide-react\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { useLanguage } from '@/context/LanguageContext';\nimport { CategoriesConfig } from \"@johnny/api\";\nimport { getCategoryIcon } from \"@/utils/iconMapping\";\n\ninterface SidebarProps {\n  config: CategoriesConfig;\n  selectedCategory: string;\n  setSelectedCategory: (category: string) => void;\n  setIsOpen: (isOpen: boolean) => void;\n  className?: string;\n}\n\nexport default function Sidebar({ config, selectedCategory, setSelectedCategory, setIsOpen, className }: SidebarProps) {\n  const { t, language } = useLanguage();\n\n  const handleCategoryClick = (category: string) => {\n    setSelectedCategory(category);\n    setIsOpen(false);\n  };\n\n  return (\n    <aside className={cn(\"bg-background border-r flex flex-col h-full\", className)}>\n      <div className=\"p-6 flex items-center space-x-2 border-b\">\n        <div className=\"h-8 w-8 bg-primary rounded-lg flex items-center justify-center\">\n          <Music2 className=\"h-5 w-5 text-primary-foreground\" />\n        </div>\n        <span className=\"font-bold text-xl tracking-tight\">Johnny Music</span>\n      </div>\n\n      <div className=\"p-4 py-6\">\n        <ScrollArea className=\"h-[calc(100vh-10rem)]\">\n          <div className=\"space-y-6\">\n\n            {/* Main Categories */}\n            <div>\n              <h3 className=\"mb-2 px-2 text-sm font-semibold text-muted-foreground tracking-wider uppercase\">\n                {t('common.active_library') || 'Library'}\n              </h3>\n              <div className=\"space-y-1\">\n                <Button\n                  variant={selectedCategory === 'All Music' ? \"secondary\" : \"ghost\"}\n                  className=\"w-full justify-start font-normal\"\n                  onClick={() => handleCategoryClick('All Music')}\n                >\n                  <ListMusic className=\"mr-2 h-4 w-4\" />\n                  {t('common.allMusic')}\n                </Button>\n                {config.categories.map((category) => {\n                  const Icon = getCategoryIcon(category.en);\n                  return (\n                    category.id !== 'All Music' && (\n                      <Button\n                        key={category.id}\n                        variant={selectedCategory === category.id ? \"secondary\" : \"ghost\"}\n                        className=\"w-full justify-start font-normal\"\n                        onClick={() => handleCategoryClick(category.id)}\n                      >\n                        <Icon className=\"mr-2 h-4 w-4\" />\n                        {language === 'zh' ? category.zh : category.en}\n                      </Button>\n                    )\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Musicians */}\n            {config.musicians && config.musicians.length > 0 && (\n              <div>\n                <h3 className=\"mb-2 px-2 text-sm font-semibold text-muted-foreground tracking-wider uppercase\">\n                  {t('common.musicians') || 'Musicians'}\n                </h3>\n                <div className=\"space-y-1\">\n                  {config.musicians.map((musician) => (\n                    <Button\n                      key={musician.id}\n                      variant={selectedCategory === musician.id ? \"secondary\" : \"ghost\"}\n                      className=\"w-full justify-start font-normal truncate\"\n                      onClick={() => handleCategoryClick(musician.id)}\n                      title={language === 'zh' ? musician.zh : musician.en}\n                    >\n                      <Users className=\"mr-2 h-4 w-4\" />\n                      {language === 'zh' ? musician.zh : musician.en}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Series */}\n            {config.series && config.series.length > 0 && (\n              <div>\n                <h3 className=\"mb-2 px-2 text-sm font-semibold text-muted-foreground tracking-wider uppercase\">\n                  {t('common.series') || 'Series'}\n                </h3>\n                <div className=\"space-y-1\">\n                  {config.series.map((series) => {\n                    const SeriesIcon = getCategoryIcon(series.en);\n                    return (\n                      <Button\n                        key={series.id}\n                        variant={selectedCategory === series.id ? \"secondary\" : \"ghost\"}\n                        className=\"w-full justify-start font-normal truncate\"\n                        onClick={() => handleCategoryClick(series.id)}\n                        title={language === 'zh' ? series.zh : series.en}\n                      >\n                        <SeriesIcon className=\"mr-2 h-4 w-4\" />\n                        {language === 'zh' ? series.zh : series.en}\n                      </Button>\n                    )\n                  })}\n                </div>\n              </div>\n            )}\n\n          </div>\n        </ScrollArea>\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Moon, Sun } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\n\nimport { Button } from \"@/components/ui/button\"\n\nexport function ThemeToggle() {\n    const { theme, setTheme } = useTheme()\n\n    return (\n        <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n            className=\"rounded-full\"\n        >\n            <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n            <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n            <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAEA;;;AANA;;;;AAQO,SAAS;;IACZ,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAEpC,qBACI,6LAAC,8JAAM;QACH,SAAQ;QACR,MAAK;QACL,SAAS,IAAM,SAAS,UAAU,UAAU,SAAS;QACrD,WAAU;;0BAEV,6LAAC,0MAAG;gBAAC,WAAU;;;;;;0BACf,6LAAC,6MAAI;gBAAC,WAAU;;;;;;0BAChB,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGtC;GAfgB;;QACgB,+JAAQ;;;KADxB"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n        inset?: boolean\n    }\n>(({ className, inset, children, ...props }, ref) => (\n    <DropdownMenuPrimitive.SubTrigger\n        ref={ref}\n        className={cn(\n            \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n            inset && \"pl-8\",\n            className\n        )}\n        {...props}\n    >\n        {children}\n        <ChevronRight className=\"ml-auto h-4 w-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n    DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n    <DropdownMenuPrimitive.SubContent\n        ref={ref}\n        className={cn(\n            \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n            className\n        )}\n        {...props}\n    />\n))\nDropdownMenuSubContent.displayName =\n    DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n    <DropdownMenuPrimitive.Portal>\n        <DropdownMenuPrimitive.Content\n            ref={ref}\n            sideOffset={sideOffset}\n            className={cn(\n                \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n                className\n            )}\n            {...props}\n        />\n    </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n        inset?: boolean\n    }\n>(({ className, inset, ...props }, ref) => (\n    <DropdownMenuPrimitive.Item\n        ref={ref}\n        className={cn(\n            \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n            inset && \"pl-8\",\n            className\n        )}\n        {...props}\n    />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n    <DropdownMenuPrimitive.CheckboxItem\n        ref={ref}\n        className={cn(\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n            className\n        )}\n        checked={checked}\n        {...props}\n    >\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n            <DropdownMenuPrimitive.ItemIndicator>\n                <Check className=\"h-4 w-4\" />\n            </DropdownMenuPrimitive.ItemIndicator>\n        </span>\n        {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n    DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n    <DropdownMenuPrimitive.RadioItem\n        ref={ref}\n        className={cn(\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n            className\n        )}\n        {...props}\n    >\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n            <DropdownMenuPrimitive.ItemIndicator>\n                <Circle className=\"h-2 w-2 fill-current\" />\n            </DropdownMenuPrimitive.ItemIndicator>\n        </span>\n        {children}\n    </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n        inset?: boolean\n    }\n>(({ className, inset, ...props }, ref) => (\n    <DropdownMenuPrimitive.Label\n        ref={ref}\n        className={cn(\n            \"px-2 py-1.5 text-sm font-semibold\",\n            inset && \"pl-8\",\n            className\n        )}\n        {...props}\n    />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n    React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n    <DropdownMenuPrimitive.Separator\n        ref={ref}\n        className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n        {...props}\n    />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n    className,\n    ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n    return (\n        <span\n            className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n            {...props}\n        />\n    )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n    DropdownMenu,\n    DropdownMenuTrigger,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuCheckboxItem,\n    DropdownMenuRadioItem,\n    DropdownMenuLabel,\n    DropdownMenuSeparator,\n    DropdownMenuShortcut,\n    DropdownMenuGroup,\n    DropdownMenuPortal,\n    DropdownMenuSub,\n    DropdownMenuSubContent,\n    DropdownMenuSubTrigger,\n    DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useMusic } from '@johnny/api';\nimport { useCategories } from '@johnny/api';\nimport { usePlayer, Song } from '@/context/PlayerContext';\nimport Sidebar from '@/components/Sidebar';\nimport { getSongIcon } from '@/utils/iconMapping';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Button } from '@/components/ui/button';\nimport { ThemeToggle } from '@/components/ThemeToggle';\nimport { useLanguage } from '@/context/LanguageContext';\nimport {\n  Play,\n  Search,\n  Music2,\n  Clock,\n  MoreHorizontal,\n  ArrowDownToLine,\n  Menu as MenuIcon,\n  Check\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\nimport { useMusicCache } from '@johnny/api';\n\nexport default function Home() {\n  const { music: songs, loading: songsLoading } = useMusic();\n  const { config, seriesMap, loading: categoriesLoading } = useCategories();\n  const { activeSong, isPlaying, playSong, togglePlay } = usePlayer();\n  const { t, language, setLanguage } = useLanguage();\n\n  const [selectedCategory, setSelectedCategory] = useState<string>('All Music');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  // Caching integration\n  const { cachedSongs, cacheSong } = useMusicCache(songs);\n\n  // We no longer need the effect to sync selectedCategory string\n\n  const filteredSongs = useMemo(() => {\n    let result = songs;\n    if (selectedCategory !== 'All Music') {\n      result = result.filter(song => {\n        // 1. Check if selectedCategory matches a Musician ID\n        const musicianItem = config.musicians.find(m => m.id === selectedCategory);\n        if (musicianItem) {\n          return (song.artist && song.artist.includes(musicianItem.en)) ||\n            (song.artist_zh && song.artist_zh.includes(musicianItem.zh));\n        }\n\n        // 2. Check Series\n        const seriesItem = config.series.find(s => s.id === selectedCategory);\n        if (seriesItem) {\n          // If we have a series map and this series is in it, use the IDs to filter\n          if (seriesMap && seriesMap[selectedCategory]) {\n            const seriesIds = seriesMap[selectedCategory];\n            return seriesIds.includes(song.id);\n          }\n\n          // Fallback to old logic if no map data (though map should exist per plan)\n          return (song.category === seriesItem.en) ||\n            (song.category_zh === seriesItem.zh) ||\n            (song.title.includes(seriesItem.en)) ||\n            (song.title_zh && song.title_zh.includes(seriesItem.zh));\n        }\n\n        // 3. Standard Category Match\n        const catItem = config.categories.find(c => c.id === selectedCategory);\n        if (catItem) {\n          return song.category === catItem.en || song.category_zh === catItem.zh;\n        }\n\n        // Fallback\n        return song.category === selectedCategory || song.category_zh === selectedCategory;\n      });\n    }\n    if (searchQuery) {\n      const lowerQuery = searchQuery.toLowerCase();\n      result = result.filter(song => {\n        const title = language === 'zh' ? (song.title_zh || song.title) : song.title;\n        const artist = language === 'zh' ? (song.artist_zh || song.artist) : song.artist;\n        return title.toLowerCase().includes(lowerQuery) || artist.toLowerCase().includes(lowerQuery);\n      });\n    }\n    return result;\n  }, [songs, selectedCategory, searchQuery, language, config, seriesMap]);\n\n  const handleSongClick = (song: Song) => {\n    if (activeSong?.path === song.path) {\n      togglePlay();\n    } else {\n      playSong(song, filteredSongs);\n    }\n  };\n\n  const handleDownload = (song: Song) => {\n    // 1. Trigger actual download\n    const link = document.createElement('a');\n    link.href = `/api/download?key=${encodeURIComponent(song.path.replace(`${process.env.NEXT_PUBLIC_CLOUDFLARE_BUCKET_PUBLIC_URL}/`, ''))}`;\n    link.download = '';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    // 2. Cache the song\n    cacheSong(song);\n  };\n\n  if (songsLoading || categoriesLoading) {\n    return <div className=\"flex h-full items-center justify-center\">{t('common.loading')}</div>;\n  }\n\n  return (\n    <div className=\"flex h-full w-full\">\n      {/* Sidebar */}\n      <div className={cn(\n        \"w-64 flex-shrink-0 border-r bg-background transition-all duration-300 ease-in-out md:block\",\n        isSidebarOpen ? \"absolute z-50 h-full shadow-xl\" : \"hidden\"\n      )}>\n        <Sidebar\n          config={config}\n          selectedCategory={selectedCategory}\n          setSelectedCategory={setSelectedCategory}\n          setIsOpen={setIsSidebarOpen}\n        />\n      </div>\n\n      {/* Sidebar Overlay for Mobile */}\n      {isSidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/20 z-40 md:hidden\"\n          onClick={() => setIsSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col min-w-0 bg-secondary/10\">\n        {/* Header */}\n        <header className=\"flex items-center justify-between px-6 py-4 border-b bg-background/50 backdrop-blur sticky top-0 z-10\">\n          <div className=\"flex items-center gap-4 flex-1\">\n            <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden\" onClick={() => setIsSidebarOpen(!isSidebarOpen)}>\n              <MenuIcon />\n            </Button>\n            <div className=\"relative w-full max-w-sm\">\n              <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\n              <input\n                type=\"search\"\n                placeholder={t('common.searchPlaceholder')}\n                className=\"w-full bg-secondary rounded-full pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-ring\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <ThemeToggle />\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => setLanguage(language === 'en' ? 'zh' : 'en')}>\n              {language === 'en' ? '中文' : 'English'}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full\">\n              <span className=\"sr-only\">User menu</span>\n              <div className=\"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center\">\n                <span className=\"text-xs font-bold text-primary\">J</span>\n              </div>\n            </Button>\n          </div>\n        </header>\n\n        <ScrollArea className=\"flex-1 p-6\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold tracking-tight mb-2\">{t('common.welcomeBack')}</h1>\n            <p className=\"text-muted-foreground\">{t('common.welcome_slogan')}</p>\n          </div>\n\n          {/* Song List */}\n          <div className=\"space-y-1 pb-48\">\n            <div className=\"grid grid-cols-[auto_1fr_auto_auto] md:grid-cols-[auto_1fr_1fr_auto_auto] gap-2 md:gap-4 px-2 md:px-4 py-2 text-sm font-medium text-muted-foreground border-b mb-2\">\n              <span className=\"w-8 text-center\">{t('common.index')}</span>\n              <span>{t('common.title')}</span>\n              <span className=\"hidden md:block\">{t('common.artist')}</span>\n              <span className=\"text-right w-12 md:w-20\">{t('common.playCount')}</span>\n              <span className=\"w-8 md:w-12 text-center\"><Clock className=\"h-4 w-4 mx-auto\" /></span>\n            </div>\n\n            {filteredSongs.map((song, i) => {\n              const isActive = activeSong?.path === song.path;\n              const isCached = cachedSongs.has(song.path);\n\n              return (\n                <div\n                  key={i}\n                  className={cn(\n                    \"group grid grid-cols-[auto_1fr_auto_auto] md:grid-cols-[auto_1fr_1fr_auto_auto] gap-2 md:gap-4 px-2 md:px-4 py-3 rounded-md items-center cursor-pointer transition-colors hover:bg-secondary/50\",\n                    isActive && \"bg-secondary text-primary\"\n                  )}\n                  onClick={() => handleSongClick(song)}\n                >\n                  <span className=\"w-8 text-center text-sm font-medium text-muted-foreground group-hover:hidden\">\n                    {isActive && isPlaying ? (\n                      <div className=\"flex gap-[2px] justify-center items-end h-3\">\n                        <span className=\"w-[3px] h-3 bg-primary animate-[bounce_1s_infinite]\" />\n                        <span className=\"w-[3px] h-2 bg-primary animate-[bounce_1.2s_infinite]\" />\n                        <span className=\"w-[3px] h-3 bg-primary animate-[bounce_0.8s_infinite]\" />\n                      </div>\n                    ) : (\n                      i + 1\n                    )}\n                  </span>\n                  <span className=\"w-8 text-center hidden group-hover:flex items-center justify-center\">\n                    <Play className=\"h-4 w-4 fill-current\" />\n                  </span>\n\n                  {/* Title Column with Cached Indicator */}\n                  <div className=\"flex items-center gap-2 md:gap-3 min-w-0\">\n                    <div className={cn(\"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0\", isActive ? \"bg-primary/10\" : \"bg-muted\")}>\n                      {(() => {\n                        const Icon = getSongIcon(song);\n                        return <Icon className={cn(\"h-5 w-5\", isActive ? \"text-primary\" : \"text-muted-foreground\")} />;\n                      })()}\n                    </div>\n                    <div className=\"flex flex-col truncate\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className={cn(\"font-medium truncate\", isActive && \"text-primary\")}>{language === 'zh' ? (song.title_zh || song.title) : song.title}</span>\n                        {isCached && (\n                          <span title=\"Cached\">\n                            <Check className=\"h-4 w-4 text-green-500\" />\n                          </span>\n                        )}\n                      </div>\n                      <span className=\"text-xs text-muted-foreground md:hidden truncate\">{language === 'zh' ? (song.artist_zh || song.artist) : song.artist}</span>\n                      <span className=\"text-xs text-muted-foreground md:hidden truncate\">{song.performer}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"hidden md:flex flex-col truncate\">\n                    <span className=\"text-sm text-muted-foreground truncate\">{language === 'zh' ? (song.artist_zh || song.artist) : song.artist}</span>\n                    {song.performer && <span className=\"text-xs text-muted-foreground truncate\">{song.performer}</span>}\n                  </div>\n\n                  <div className=\"flex items-center justify-end w-12 md:w-20\">\n                    <span className=\"text-xs md:text-sm text-muted-foreground tabular-nums\">{song.count || 0}</span>\n                  </div>\n\n                  <div className=\"w-8 md:w-12 flex items-center justify-center gap-2\">\n                    <div onClick={(e) => e.stopPropagation()}>\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          {/* Changed opacity logic: always visible on mobile (md:hidden reverse), hover on desktop */}\n                          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 transition-opacity opacity-100 md:opacity-0 md:group-hover:opacity-100 data-[state=open]:opacity-100\">\n                            <MoreHorizontal className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem onClick={() => handleSongClick(song)}>\n                            <Play className=\"mr-2 h-4 w-4\" />\n                            <span>{t('common.play') || 'Play'}</span>\n                          </DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => handleDownload(song)}>\n                            <ArrowDownToLine className=\"mr-2 h-4 w-4\" />\n                            <span>{t('common.download') || 'Download'}</span>\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            {filteredSongs.length === 0 && (\n              <div className=\"py-12 text-center text-muted-foreground\">\n                {t('common.noSongsFound')}\n              </div>\n            )}\n          </div>\n        </ScrollArea>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
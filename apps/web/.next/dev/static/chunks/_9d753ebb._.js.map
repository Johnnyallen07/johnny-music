{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(() => new QueryClient());\n\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;AAHA;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAiC;;IAC3E,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;8BAAC,IAAM,IAAI,+LAAW;;IAEpD,qBACE,6LAAC,gNAAmB;QAAC,QAAQ;kBAAc;;;;;;AAE/C;GANwB;KAAA"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/config.ts"],"sourcesContent":["export const API_CONFIG = {\n    bucketUrl: \"\",\n    apiBaseUrl: \"\", // For backend API calls\n};\n\nexport const setApiConfig = (config: { bucketUrl: string; apiBaseUrl?: string }) => {\n    API_CONFIG.bucketUrl = config.bucketUrl;\n    if (config.apiBaseUrl) {\n        API_CONFIG.apiBaseUrl = config.apiBaseUrl;\n    }\n};\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,aAAa;IACtB,WAAW;IACX,YAAY;AAChB;AAEO,MAAM,eAAe,CAAC;IACzB,WAAW,SAAS,GAAG,OAAO,SAAS;IACvC,IAAI,OAAO,UAAU,EAAE;QACnB,WAAW,UAAU,GAAG,OAAO,UAAU;IAC7C;AACJ"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/api/music.ts"],"sourcesContent":["import axios from \"axios\";\nimport { MusicInfo } from \"../types\";\n\n// Updated to reflect music-info.json at the root of the public bucket URL\nimport { API_CONFIG } from \"../config\";\n\nconst getMusicInfoUrl = () => `${API_CONFIG.bucketUrl}/config/music-info.json`;\nconst getMusicCountUrl = () => `${API_CONFIG.bucketUrl}/config/music-count.json`;\n\nexport const getMusicList = async (): Promise<MusicInfo[]> => {\n    // Add timestamp to prevent caching\n    const t = new Date().getTime();\n    const infoUrl = `${getMusicInfoUrl()}?t=${t}`;\n    const countUrl = `${getMusicCountUrl()}?t=${t}`;\n\n    try {\n        const [infoResp, countResp] = await Promise.all([\n            axios.get<MusicInfo[]>(infoUrl),\n            axios.get<Record<string, number>>(countUrl).catch(() => ({ data: {} })) // Handle missing count file gracefully\n        ]);\n\n        if (!infoResp.data) {\n            throw new Error(\"Fetching music info error\");\n        }\n\n        const countData = (countResp.data || {}) as Record<string, number>;\n\n        return infoResp.data.map((song) => ({\n            ...song,\n            path: `${API_CONFIG.bucketUrl}${song.path}`,\n            count: countData[song.id] || 0\n        }));\n    } catch (error) {\n        console.error(\"Error fetching music list:\", error);\n        return [];\n    }\n};\n\nexport const updateMetadata = async (payload: MusicInfo) => {\n    const { data } = await axios.patch(\"/api/music-metadata\", payload);\n    return data;\n};\n\nexport const incrementPlayCount = async (id: string) => {\n    const { data } = await axios.post(\"/api/play-count\", { id });\n    return data;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AAGA,0EAA0E;AAC1E;;;AAEA,MAAM,kBAAkB,IAAM,GAAG,iJAAU,CAAC,SAAS,CAAC,uBAAuB,CAAC;AAC9E,MAAM,mBAAmB,IAAM,GAAG,iJAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;AAEzE,MAAM,eAAe;IACxB,mCAAmC;IACnC,MAAM,IAAI,IAAI,OAAO,OAAO;IAC5B,MAAM,UAAU,GAAG,kBAAkB,GAAG,EAAE,GAAG;IAC7C,MAAM,WAAW,GAAG,mBAAmB,GAAG,EAAE,GAAG;IAE/C,IAAI;QACA,MAAM,CAAC,UAAU,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;YAC5C,mJAAK,CAAC,GAAG,CAAc;YACvB,mJAAK,CAAC,GAAG,CAAyB,UAAU,KAAK,CAAC,IAAM,CAAC;oBAAE,MAAM,CAAC;gBAAE,CAAC,GAAG,uCAAuC;SAClH;QAED,IAAI,CAAC,SAAS,IAAI,EAAE;YAChB,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,YAAa,UAAU,IAAI,IAAI,CAAC;QAEtC,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,CAAC;gBAChC,GAAG,IAAI;gBACP,MAAM,GAAG,iJAAU,CAAC,SAAS,GAAG,KAAK,IAAI,EAAE;gBAC3C,OAAO,SAAS,CAAC,KAAK,EAAE,CAAC,IAAI;YACjC,CAAC;IACL,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,EAAE;IACb;AACJ;AAEO,MAAM,iBAAiB,OAAO;IACjC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,KAAK,CAAC,uBAAuB;IAC1D,OAAO;AACX;AAEO,MAAM,qBAAqB,OAAO;IACrC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,IAAI,CAAC,mBAAmB;QAAE;IAAG;IAC1D,OAAO;AACX"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/api/categories.ts"],"sourcesContent":["import axios from \"axios\";\nimport { CategoriesConfig } from \"../types\";\n\n// Updated to reflect category.json at the root of the public bucket URL\nimport { API_CONFIG } from \"../config\";\n\nconst getCategoriesInfoUrl = () => `${API_CONFIG.bucketUrl}/config/category.json`;\n\nexport const getCategories = async (): Promise<CategoriesConfig> => {\n    // Add timestamp to prevent caching\n    const url = `${getCategoriesInfoUrl()}?t=${new Date().getTime()}`;\n    const resp = await axios.get<CategoriesConfig | string[]>(url);\n\n    if (!resp.data) {\n        throw new Error(\"Fetching categories info error\");\n    }\n\n    // Backward compatibility if it returns an array\n    if (Array.isArray(resp.data)) {\n        return {\n            categories: resp.data.map(c => ({ id: c, en: c, zh: c })),\n            musicians: [],\n            series: []\n        };\n    }\n\n    return resp.data;\n};\n\n// New function to fetch series mapping\nconst getSeriesMapUrl = () => `${API_CONFIG.bucketUrl}/config/music-series.json`;\n\nexport const getSeriesMap = async (): Promise<Record<string, string[]>> => {\n    // Add timestamp to prevent caching\n    const url = `${getSeriesMapUrl()}?t=${new Date().getTime()}`;\n    const resp = await axios.get<Record<string, string[]>>(url);\n\n    if (!resp.data) {\n        // Return empty object if failed, to avoid breaking the app\n        console.error(\"Fetching series map error\");\n        return {};\n    }\n\n    return resp.data;\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAGA,wEAAwE;AACxE;;;AAEA,MAAM,uBAAuB,IAAM,GAAG,iJAAU,CAAC,SAAS,CAAC,qBAAqB,CAAC;AAE1E,MAAM,gBAAgB;IACzB,mCAAmC;IACnC,MAAM,MAAM,GAAG,uBAAuB,GAAG,EAAE,IAAI,OAAO,OAAO,IAAI;IACjE,MAAM,OAAO,MAAM,mJAAK,CAAC,GAAG,CAA8B;IAE1D,IAAI,CAAC,KAAK,IAAI,EAAE;QACZ,MAAM,IAAI,MAAM;IACpB;IAEA,gDAAgD;IAChD,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;QAC1B,OAAO;YACH,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;oBAAE,IAAI;oBAAG,IAAI;oBAAG,IAAI;gBAAE,CAAC;YACvD,WAAW,EAAE;YACb,QAAQ,EAAE;QACd;IACJ;IAEA,OAAO,KAAK,IAAI;AACpB;AAEA,uCAAuC;AACvC,MAAM,kBAAkB,IAAM,GAAG,iJAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC;AAEzE,MAAM,eAAe;IACxB,mCAAmC;IACnC,MAAM,MAAM,GAAG,kBAAkB,GAAG,EAAE,IAAI,OAAO,OAAO,IAAI;IAC5D,MAAM,OAAO,MAAM,mJAAK,CAAC,GAAG,CAA2B;IAEvD,IAAI,CAAC,KAAK,IAAI,EAAE;QACZ,2DAA2D;QAC3D,QAAQ,KAAK,CAAC;QACd,OAAO,CAAC;IACZ;IAEA,OAAO,KAAK,IAAI;AACpB"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/api/upload.ts"],"sourcesContent":["import axios from \"axios\";\nimport { PresignedUrlPayload, PresignedUrlResponse } from \"../types\";\n\nimport { API_CONFIG } from \"../config\";\n\n// Function to get a presigned URL from our API\nexport const getPresignedUrl = async (payload: PresignedUrlPayload) => {\n    const { data } = await axios.post<PresignedUrlResponse>(`${API_CONFIG.apiBaseUrl}/api/presigned-url`, payload);\n    return data;\n};\n\n// Function to upload file directly to R2 using the presigned URL\nexport const uploadFileToR2 = async (url: string, file: File, contentType: string) => {\n    await axios.put(url, file, {\n        headers: {\n            \"Content-Type\": contentType,\n        },\n    });\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAGA;;;AAGO,MAAM,kBAAkB,OAAO;IAClC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,IAAI,CAAuB,GAAG,iJAAU,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;IACtG,OAAO;AACX;AAGO,MAAM,iBAAiB,OAAO,KAAa,MAAY;IAC1D,MAAM,mJAAK,CAAC,GAAG,CAAC,KAAK,MAAM;QACvB,SAAS;YACL,gBAAgB;QACpB;IACJ;AACJ"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/hooks/useMusic.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport { getMusicList } from \"../api/music\";\nimport { MusicInfo } from \"../types\";\n\nconst EMPTY_MUSIC_LIST: MusicInfo[] = [];\n\nexport const useMusic = () => {\n  const { data, error, isFetching } = useQuery<MusicInfo[]>({\n    queryKey: [\"music\"],\n    queryFn: getMusicList,\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n\n  return {\n    music: data ?? EMPTY_MUSIC_LIST,\n    loading: isFetching,\n    error,\n  };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAGA,MAAM,mBAAgC,EAAE;AAEjC,MAAM,WAAW;;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAA,0LAAQ,EAAc;QACxD,UAAU;YAAC;SAAQ;QACnB,SAAS,yJAAY;QACrB,WAAW,OAAO,KAAK;IACzB;IAEA,OAAO;QACL,OAAO,QAAQ;QACf,SAAS;QACT;IACF;AACF;GAZa;;QACyB,0LAAQ"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/hooks/useCategories.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport { getCategories, getSeriesMap } from \"../api/categories\";\nimport { CategoriesConfig } from \"../types\";\n\nexport const useCategories = () => {\n  const { data: config, isFetching: configLoading } = useQuery<CategoriesConfig>({\n    queryKey: [\"categories\"],\n    queryFn: getCategories,\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n\n  const { data: seriesMap, isFetching: seriesLoading } = useQuery<Record<string, string[]>>({\n    queryKey: [\"seriesMap\"],\n    queryFn: getSeriesMap,\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n\n  return {\n    config: config ?? { categories: [], musicians: [], series: [] },\n    seriesMap: seriesMap ?? {},\n    loading: configLoading || seriesLoading,\n  };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAGO,MAAM,gBAAgB;;IAC3B,MAAM,EAAE,MAAM,MAAM,EAAE,YAAY,aAAa,EAAE,GAAG,IAAA,0LAAQ,EAAmB;QAC7E,UAAU;YAAC;SAAa;QACxB,SAAS,+JAAa;QACtB,WAAW,OAAO,KAAK;IACzB;IAEA,MAAM,EAAE,MAAM,SAAS,EAAE,YAAY,aAAa,EAAE,GAAG,IAAA,0LAAQ,EAA2B;QACxF,UAAU;YAAC;SAAY;QACvB,SAAS,8JAAY;QACrB,WAAW,OAAO,KAAK;IACzB;IAEA,OAAO;QACL,QAAQ,UAAU;YAAE,YAAY,EAAE;YAAE,WAAW,EAAE;YAAE,QAAQ,EAAE;QAAC;QAC9D,WAAW,aAAa,CAAC;QACzB,SAAS,iBAAiB;IAC5B;AACF;GAlBa;;QACyC,0LAAQ;QAML,0LAAQ"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/hooks/useUpload.ts"],"sourcesContent":["import { useMutation } from \"@tanstack/react-query\";\nimport { getPresignedUrl, uploadFileToR2 } from \"../api/upload\";\nimport { updateMetadata } from \"../api/music\";\nimport { MusicInfo } from \"../types\";\n\nexport const useUploadMusic = () => {\n  return useMutation({\n    mutationFn: async ({ file, musicInfo }: { file: File; musicInfo: Omit<MusicInfo, 'path'> }) => {\n      // 1. Get presigned URL\n      const presignedUrlResponse = await getPresignedUrl({\n        name: file.name,\n        type: file.type,\n      });\n\n      if (!presignedUrlResponse.success) {\n        throw new Error(\"Failed to get presigned URL\");\n      }\n\n      const { url, path: r2Path } = presignedUrlResponse;\n\n      // 2. Upload file to R2\n      await uploadFileToR2(url, file, file.type);\n\n      // 3. Update music metadata\n      // We need to cast since updateMetadata expects full MusicInfo including path, \n      // but here we are constructing it.\n      await updateMetadata({\n        ...musicInfo,\n        path: r2Path,\n      });\n\n      return { success: true, message: \"Music uploaded successfully\" };\n    },\n  });\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAGO,MAAM,iBAAiB;;IAC5B,OAAO,IAAA,gMAAW,EAAC;QACjB,UAAU;0CAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAsD;gBACxF,uBAAuB;gBACvB,MAAM,uBAAuB,MAAM,IAAA,6JAAe,EAAC;oBACjD,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;gBACjB;gBAEA,IAAI,CAAC,qBAAqB,OAAO,EAAE;oBACjC,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,EAAE,GAAG,EAAE,MAAM,MAAM,EAAE,GAAG;gBAE9B,uBAAuB;gBACvB,MAAM,IAAA,4JAAc,EAAC,KAAK,MAAM,KAAK,IAAI;gBAEzC,2BAA2B;gBAC3B,+EAA+E;gBAC/E,mCAAmC;gBACnC,MAAM,IAAA,2JAAc,EAAC;oBACnB,GAAG,SAAS;oBACZ,MAAM;gBACR;gBAEA,OAAO;oBAAE,SAAS;oBAAM,SAAS;gBAA8B;YACjE;;IACF;AACF;GA7Ba;;QACJ,gMAAW"}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/utils/musicCache.ts"],"sourcesContent":["export const CACHE_NAME = 'music-cache-v1';\n\nexport const checkCached = async (url: string): Promise<boolean> => {\n    if ('caches' in window) {\n        const cache = await caches.open(CACHE_NAME);\n        const match = await cache.match(url);\n        return !!match;\n    }\n    return false;\n};\n\nexport const cacheMusic = async (url: string): Promise<void> => {\n    if ('caches' in window) {\n        const cache = await caches.open(CACHE_NAME);\n        await cache.add(url);\n    }\n};\n\nexport const getCachedUrl = async (url: string): Promise<string | null> => {\n    if ('caches' in window) {\n        const cache = await caches.open(CACHE_NAME);\n        const response = await cache.match(url);\n        if (response) {\n            const blob = await response.blob();\n            return URL.createObjectURL(blob);\n        }\n    }\n    return null;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,aAAa;AAEnB,MAAM,cAAc,OAAO;IAC9B,IAAI,YAAY,QAAQ;QACpB,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC;QAChC,MAAM,QAAQ,MAAM,MAAM,KAAK,CAAC;QAChC,OAAO,CAAC,CAAC;IACb;IACA,OAAO;AACX;AAEO,MAAM,aAAa,OAAO;IAC7B,IAAI,YAAY,QAAQ;QACpB,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC;QAChC,MAAM,MAAM,GAAG,CAAC;IACpB;AACJ;AAEO,MAAM,eAAe,OAAO;IAC/B,IAAI,YAAY,QAAQ;QACpB,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC;QAChC,MAAM,WAAW,MAAM,MAAM,KAAK,CAAC;QACnC,IAAI,UAAU;YACV,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,OAAO,IAAI,eAAe,CAAC;QAC/B;IACJ;IACA,OAAO;AACX"}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/hooks/useMusicCache.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { checkCached, cacheMusic } from '../utils/musicCache';\nimport { MusicInfo } from \"../types\";\n\nexport const useMusicCache = (songs: MusicInfo[]) => {\n    const [cachedSongs, setCachedSongs] = useState<Set<string>>(new Set());\n\n    useEffect(() => {\n        const checkCacheStatus = async () => {\n            const newCachedSet = new Set<string>();\n            for (const song of songs) {\n                const isCached = await checkCached(song.path);\n                if (isCached) {\n                    newCachedSet.add(song.path);\n                }\n            }\n            setCachedSongs(newCachedSet);\n        };\n\n        checkCacheStatus();\n    }, [songs]); // Re-run when songs list changes\n\n    const cacheSong = async (song: MusicInfo) => {\n        try {\n            await cacheMusic(song.path);\n            setCachedSongs(prev => new Set(prev).add(song.path));\n        } catch (error) {\n            console.error(\"Failed to cache song:\", error);\n        }\n    };\n\n    return { cachedSongs, cacheSong };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAGO,MAAM,gBAAgB,CAAC;;IAC1B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAc,IAAI;IAEhE,IAAA,0KAAS;mCAAC;YACN,MAAM;4DAAmB;oBACrB,MAAM,eAAe,IAAI;oBACzB,KAAK,MAAM,QAAQ,MAAO;wBACtB,MAAM,WAAW,MAAM,IAAA,+JAAW,EAAC,KAAK,IAAI;wBAC5C,IAAI,UAAU;4BACV,aAAa,GAAG,CAAC,KAAK,IAAI;wBAC9B;oBACJ;oBACA,eAAe;gBACnB;;YAEA;QACJ;kCAAG;QAAC;KAAM,GAAG,iCAAiC;IAE9C,MAAM,YAAY,OAAO;QACrB,IAAI;YACA,MAAM,IAAA,8JAAU,EAAC,KAAK,IAAI;YAC1B,eAAe,CAAA,OAAQ,IAAI,IAAI,MAAM,GAAG,CAAC,KAAK,IAAI;QACtD,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QAC3C;IACJ;IAEA,OAAO;QAAE;QAAa;IAAU;AACpC;GA5Ba"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/packages/api/src/index.ts"],"sourcesContent":["export * from \"./api/music\";\nexport * from \"./api/categories\";\nexport * from \"./api/upload\";\nexport * from \"./hooks/useMusic\";\nexport * from \"./hooks/useCategories\";\nexport * from \"./hooks/useUpload\";\nexport * from \"./hooks/useMusicCache\";\nexport * from \"./config\";\nexport * from \"./types\";\nexport * from './utils/musicCache';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 475, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/context/PlayerContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useRef, useEffect, ReactNode } from 'react';\n\nimport { MusicInfo } from '@johnny/api';\nimport { updateMetadata, incrementPlayCount } from '@johnny/api';\n\nexport interface Song extends MusicInfo { }\n\ninterface PlayerContextType {\n    activeSong: Song | null;\n    isPlaying: boolean;\n    playlist: Song[];\n    isShuffle: boolean;\n    isRepeat: boolean;\n    currentTime: number;\n    duration: number;\n    playSong: (song: Song, newPlaylist?: Song[]) => void;\n    togglePlay: () => void;\n    playNext: () => void;\n    playPrev: () => void;\n    toggleShuffle: () => void;\n    toggleRepeat: () => void;\n    seek: (time: number) => void;\n    setPlaylist: (songs: Song[]) => void;\n    volume: number;\n    isMuted: boolean;\n    setVolume: (volume: number) => void;\n    toggleMute: () => void;\n}\n\nconst PlayerContext = createContext<PlayerContextType | undefined>(undefined);\n\nexport function PlayerProvider({ children }: { children: ReactNode }) {\n    const [activeSong, setActiveSong] = useState<Song | null>(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [playlist, setPlaylist] = useState<Song[]>([]);\n    const [currentIndex, setCurrentIndex] = useState(-1);\n    const [isShuffle, setIsShuffle] = useState(false);\n    const [isRepeat, setIsRepeat] = useState(false);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [duration, setDuration] = useState(0);\n    const [volume, setVolumeState] = useState(1);\n    const [isMuted, setIsMuted] = useState(false);\n    const [hasCounted, setHasCounted] = useState(false);\n\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n\n    useEffect(() => {\n        if (!audioRef.current) {\n            audioRef.current = new Audio();\n        }\n\n        const audio = audioRef.current;\n\n        const updateTime = () => setCurrentTime(audio.currentTime);\n        const updateDuration = () => setDuration(audio.duration);\n        // We will handle 'ended' in the separate useEffect via stateRef to access latest state\n\n        audio.addEventListener('timeupdate', updateTime);\n        audio.addEventListener('loadedmetadata', updateDuration);\n\n        return () => {\n            audio.removeEventListener('timeupdate', updateTime);\n            audio.removeEventListener('loadedmetadata', updateDuration);\n        }\n    }, []);\n\n    // Sync isPlaying state with audio element\n    useEffect(() => {\n        if (audioRef.current) {\n            if (isPlaying) {\n                audioRef.current.play().catch(e => console.error(\"Play error:\", e));\n            } else {\n                audioRef.current.pause();\n            }\n        }\n    }, [isPlaying]);\n\n    // Sync activeSong with audio element\n    useEffect(() => {\n        const setAudioSrc = async () => {\n            if (audioRef.current && activeSong) {\n                let src = activeSong.path;\n\n                // Check cache first\n                // Need to import dynamically or use global function if not in hook?\n                // Importing cache utility here is fine.\n                const { getCachedUrl } = await import('@johnny/api');\n                const cachedUrl = await getCachedUrl(activeSong.path);\n\n                if (cachedUrl) {\n                    src = cachedUrl;\n                    console.log(\"Playing from cache:\", src);\n                }\n\n                if (audioRef.current.src !== src && audioRef.current.src !== window.location.origin + src) { // Check both relative/absolute match loosely\n                    // Note: blob URLs are unique so strict check is fine, but for initial path...\n                    // Actually, if we switch from cloud URL to blob URL, it should update.\n\n                    // Check if current src is already the resolved one to avoid double set\n                    if (audioRef.current.src !== src) {\n                        audioRef.current.src = src;\n                        if (isPlaying) audioRef.current.play();\n                    }\n                } else {\n                    if (isPlaying) audioRef.current.play();\n                }\n            }\n        };\n\n        setAudioSrc();\n    }, [activeSong, isPlaying]);\n\n    // Reset hasCounted when activeSong changes\n    useEffect(() => {\n        setHasCounted(false);\n    }, [activeSong]);\n\n    // Handle play count\n    useEffect(() => {\n        if (!activeSong || duration === 0 || hasCounted) return;\n\n        if (currentTime / duration > 0.5) {\n            setHasCounted(true);\n\n            if (activeSong.id) {\n                incrementPlayCount(activeSong.id).catch(err => {\n                    console.error(\"Failed to update play count:\", err);\n                });\n            } else {\n                console.warn(\"Song has no ID, skipping play count update:\", activeSong.title);\n            }\n        }\n    }, [currentTime, duration, activeSong, hasCounted]);\n\n    // Sync volume and mute with audio element\n    useEffect(() => {\n        if (audioRef.current) {\n            audioRef.current.volume = isMuted ? 0 : volume;\n        }\n    }, [volume, isMuted]);\n\n    // State Ref to allow event listener to access latest state without re-binding\n    const stateRef = useRef({ isRepeat, isShuffle, playlist, currentIndex });\n    useEffect(() => {\n        stateRef.current = { isRepeat, isShuffle, playlist, currentIndex };\n    }, [isRepeat, isShuffle, playlist, currentIndex]);\n\n    // Handle 'ended' event\n    useEffect(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        const handleEnded = () => {\n            const { isRepeat, isShuffle, playlist, currentIndex } = stateRef.current;\n            if (isRepeat) {\n                audio.currentTime = 0;\n                audio.play();\n            } else {\n                if (playlist.length === 0) return;\n\n                let nextIndex = (currentIndex + 1);\n\n                if (isShuffle) {\n                    // Logic to find random next index\n                    let attempts = 0;\n                    do {\n                        nextIndex = Math.floor(Math.random() * playlist.length);\n                        attempts++;\n                    } while (playlist.length > 1 && nextIndex === currentIndex && attempts < 10);\n                } else if (nextIndex >= playlist.length) {\n                    nextIndex = 0; // Loop back to start\n                }\n\n                // We calculate next song but we need to update state\n                // Since we can't call playSong directly easily without causing excessive re-renders/dep loops if we put it in ref,\n                // we'll just set state similar to playNext logic.\n\n                // Duplicate logic from playNext somewhat but safe here\n                // To be DRY, we could move playNext/playPrev logic to be pure functions dependent on state\n                // But for now, inline calculation is fine.\n\n                // IMPORTANT: We must update currentIndex and activeSong\n                // This will trigger re-renders that update the Player\n                // and the other useEffect will ensure audio syncs (activeSong change -> src change)\n\n                // Wait, if we just update state, activeSong effect will trigger.\n                // If playlist is same, we just change index and song.\n\n                const nextSong = playlist[nextIndex];\n                if (nextSong) {\n                    setCurrentIndex(nextIndex);\n                    setActiveSong(nextSong);\n                    setIsPlaying(true);\n                }\n            }\n        };\n\n        audio.addEventListener('ended', handleEnded);\n        return () => audio.removeEventListener('ended', handleEnded);\n    }, []);\n\n    const playSong = (song: Song, newPlaylist?: Song[]) => {\n        if (newPlaylist) {\n            setPlaylist(newPlaylist);\n            const index = newPlaylist.findIndex(s => s.path === song.path);\n            setCurrentIndex(index);\n        } else {\n            const index = playlist.findIndex(s => s.path === song.path);\n            if (index !== -1) setCurrentIndex(index);\n        }\n        setActiveSong(song);\n        setIsPlaying(true);\n    };\n\n    const togglePlay = () => setIsPlaying(!isPlaying);\n\n    const getNextIndex = () => {\n        if (playlist.length === 0) return -1;\n        if (isShuffle) {\n            let nextIndex;\n            let attempts = 0;\n            do {\n                nextIndex = Math.floor(Math.random() * playlist.length);\n                attempts++;\n            } while (playlist.length > 1 && nextIndex === currentIndex && attempts < 10);\n            return nextIndex;\n        }\n        return (currentIndex + 1) % playlist.length;\n    };\n\n    const getPrevIndex = () => {\n        if (playlist.length === 0) return -1;\n        if (isShuffle) {\n            let prevIndex;\n            let attempts = 0;\n            do {\n                prevIndex = Math.floor(Math.random() * playlist.length);\n                attempts++;\n            } while (playlist.length > 1 && prevIndex === currentIndex && attempts < 10);\n            return prevIndex;\n        }\n        return (currentIndex - 1 + playlist.length) % playlist.length;\n    };\n\n    const playNext = () => {\n        const nextIndex = getNextIndex();\n        if (nextIndex !== -1) {\n            setCurrentIndex(nextIndex);\n            setActiveSong(playlist[nextIndex]);\n            setIsPlaying(true);\n        }\n    };\n\n    const playPrev = () => {\n        const prevIndex = getPrevIndex();\n        if (prevIndex !== -1) {\n            setCurrentIndex(prevIndex);\n            setActiveSong(playlist[prevIndex]);\n            setIsPlaying(true);\n        }\n    };\n\n    const toggleShuffle = () => setIsShuffle(!isShuffle);\n    const toggleRepeat = () => setIsRepeat(!isRepeat);\n\n    const seek = (time: number) => {\n        if (audioRef.current) {\n            audioRef.current.currentTime = time;\n            setCurrentTime(time);\n        }\n    };\n\n    const setVolume = (value: number) => {\n        const newVolume = Math.max(0, Math.min(1, value));\n        setVolumeState(newVolume);\n        if (newVolume > 0 && isMuted) setIsMuted(false);\n    };\n\n    const toggleMute = () => setIsMuted(!isMuted);\n\n\n\n    return (\n        <PlayerContext.Provider value={{\n            activeSong,\n            isPlaying,\n            playlist,\n            isShuffle,\n            isRepeat,\n            currentTime,\n            duration,\n            playSong,\n            togglePlay,\n            playNext,\n            playPrev,\n            toggleShuffle,\n            toggleRepeat,\n            seek,\n            setPlaylist,\n            volume,\n            isMuted,\n            setVolume,\n            toggleMute\n        }}>\n            {children}\n        </PlayerContext.Provider>\n    );\n}\n\nexport function usePlayer() {\n    const context = useContext(PlayerContext);\n    if (context === undefined) {\n        throw new Error('usePlayer must be used within a PlayerProvider');\n    }\n    return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\n\nexport function ThemeProvider({\n    children,\n    ...props\n}: React.ComponentProps<typeof NextThemesProvider>) {\n    return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAC1B,QAAQ,EACR,GAAG,OAC2C;IAC9C,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AAC3C;KALgB"}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/i18n/dictionaries.ts"],"sourcesContent":["export type Locale = 'en' | 'zh';\n\nexport const dictionaries = {\n    en: {\n        common: {\n            searchPlaceholder: \"Search songs, artists...\",\n            welcomeBack: \"Welcome Back\",\n            todaysMusic: \"Here's your music for today.\",\n            allMusic: \"All Music\",\n            noSongsFound: \"No songs found.\",\n            loading: \"Loading...\",\n            theme: \"Theme\",\n            language: \"Language\",\n            download: \"Download\",\n            active_library: \"Library\",\n            play: \"Play\",\n            musicians: \"Musicians\",\n            series: \"Series\",\n            welcome_slogan: \"This is today's music recommended for you.\",\n            title: \"Title\",\n            artist: \"Artist\",\n            performer: \"Performer\",\n            index: \"#\",\n            playCount: \"Plays\"\n        },\n        sidebar: {\n            menu: \"Menu\"\n        },\n        player: {\n            // Add player specific dicts if needed\n        }\n    },\n    zh: {\n        common: {\n            searchPlaceholder: \"搜索歌曲、艺术家...\",\n            welcomeBack: \"欢迎回来\",\n            todaysMusic: \"这是为您推荐的今日音乐。\",\n            allMusic: \"所有音乐\",\n            noSongsFound: \"未找到歌曲。\",\n            loading: \"加载中...\",\n            theme: \"主题\",\n            language: \"语言\",\n            download: \"下载\",\n            active_library: \"库\",\n            play: \"播放\",\n            musicians: \"音乐家\",\n            series: \"系列\",\n            welcome_slogan: \"这是为您推荐的今日音乐。\",\n            title: \"标题\",\n            artist: \"艺术家\",\n            performer: \"演奏者\",\n            index: \"序号\",\n            playCount: \"播放次数\"\n        },\n        sidebar: {\n            menu: \"菜单\"\n        },\n        player: {\n            // Add player specific dicts if needed\n        }\n    }\n};\n\nexport const getDictionary = (locale: Locale) => dictionaries[locale];\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,eAAe;IACxB,IAAI;QACA,QAAQ;YACJ,mBAAmB;YACnB,aAAa;YACb,aAAa;YACb,UAAU;YACV,cAAc;YACd,SAAS;YACT,OAAO;YACP,UAAU;YACV,UAAU;YACV,gBAAgB;YAChB,MAAM;YACN,WAAW;YACX,QAAQ;YACR,gBAAgB;YAChB,OAAO;YACP,QAAQ;YACR,WAAW;YACX,OAAO;YACP,WAAW;QACf;QACA,SAAS;YACL,MAAM;QACV;QACA,QAAQ;QAER;IACJ;IACA,IAAI;QACA,QAAQ;YACJ,mBAAmB;YACnB,aAAa;YACb,aAAa;YACb,UAAU;YACV,cAAc;YACd,SAAS;YACT,OAAO;YACP,UAAU;YACV,UAAU;YACV,gBAAgB;YAChB,MAAM;YACN,WAAW;YACX,QAAQ;YACR,gBAAgB;YAChB,OAAO;YACP,QAAQ;YACR,WAAW;YACX,OAAO;YACP,WAAW;QACf;QACA,SAAS;YACL,MAAM;QACV;QACA,QAAQ;QAER;IACJ;AACJ;AAEO,MAAM,gBAAgB,CAAC,SAAmB,YAAY,CAAC,OAAO"}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/context/LanguageContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { dictionaries, Locale, getDictionary } from '@/i18n/dictionaries';\n\ntype LanguageContextType = {\n    language: Locale;\n    setLanguage: (lang: Locale) => void;\n    t: (key: string) => string;\n};\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nexport function LanguageProvider({ children }: { children: ReactNode }) {\n    const [language, setLanguage] = useState<Locale>('en');\n\n    useEffect(() => {\n        // Check if window is defined to ensure we are on the client\n        if (typeof window !== 'undefined') {\n            const savedLanguage = localStorage.getItem('language') as Locale;\n            if (savedLanguage && (savedLanguage === 'en' || savedLanguage === 'zh')) {\n                setLanguage(savedLanguage);\n            }\n        }\n    }, []);\n\n    const handleSetLanguage = (lang: Locale) => {\n        setLanguage(lang);\n        if (typeof window !== 'undefined') {\n            localStorage.setItem('language', lang);\n        }\n    };\n\n    const t = (key: string): string => {\n        const keys = key.split('.');\n        let current: Record<string, any> = getDictionary(language);\n\n        for (const k of keys) {\n            if (current[k] === undefined) {\n                console.warn(`Translation key not found: ${key}`);\n                return key;\n            }\n            current = current[k];\n        }\n\n        return current as unknown as string;\n    };\n\n    return (\n        <LanguageContext.Provider value={{ language, setLanguage: handleSetLanguage, t }}>\n            {children}\n        </LanguageContext.Provider>\n    );\n}\n\nexport const useLanguage = () => {\n    const context = useContext(LanguageContext);\n    if (context === undefined) {\n        throw new Error('useLanguage must be used within a LanguageProvider');\n    }\n    return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAWA,MAAM,gCAAkB,IAAA,8KAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAS;IAEjD,IAAA,0KAAS;sCAAC;YACN,4DAA4D;YAC5D,wCAAmC;gBAC/B,MAAM,gBAAgB,aAAa,OAAO,CAAC;gBAC3C,IAAI,iBAAiB,CAAC,kBAAkB,QAAQ,kBAAkB,IAAI,GAAG;oBACrE,YAAY;gBAChB;YACJ;QACJ;qCAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC;QACvB,YAAY;QACZ,wCAAmC;YAC/B,aAAa,OAAO,CAAC,YAAY;QACrC;IACJ;IAEA,MAAM,IAAI,CAAC;QACP,MAAM,OAAO,IAAI,KAAK,CAAC;QACvB,IAAI,UAA+B,IAAA,8JAAa,EAAC;QAEjD,KAAK,MAAM,KAAK,KAAM;YAClB,IAAI,OAAO,CAAC,EAAE,KAAK,WAAW;gBAC1B,QAAQ,IAAI,CAAC,CAAC,2BAA2B,EAAE,KAAK;gBAChD,OAAO;YACX;YACA,UAAU,OAAO,CAAC,EAAE;QACxB;QAEA,OAAO;IACX;IAEA,qBACI,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU,aAAa;YAAmB;QAAE;kBAC1E;;;;;;AAGb;GAxCgB;KAAA;AA0CT,MAAM,cAAc;;IACvB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANa"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 1011, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n    React.ElementRef<typeof SliderPrimitive.Root>,\n    React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n    <SliderPrimitive.Root\n        ref={ref}\n        className={cn(\n            \"relative flex w-full touch-none select-none items-center\",\n            className\n        )}\n        {...props}\n    >\n        <SliderPrimitive.Track\n            className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\"\n        >\n            <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n        </SliderPrimitive.Track>\n        <SliderPrimitive.Thumb\n            className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\n        />\n    </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC,6KAAoB;QACjB,KAAK;QACL,WAAW,IAAA,2IAAE,EACT,4DACA;QAEH,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBAClB,WAAU;0BAEV,cAAA,6LAAC,8KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAErC,6LAAC,8KAAqB;gBAClB,WAAU;;;;;;;;;;;;;AAItB,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n    {\n        variants: {\n            variant: {\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n                destructive:\n                    \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n                outline:\n                    \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n                secondary:\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\n                link: \"text-primary underline-offset-4 hover:underline\",\n            },\n            size: {\n                default: \"h-10 px-4 py-2\",\n                sm: \"h-9 rounded-md px-3\",\n                lg: \"h-11 rounded-md px-8\",\n                icon: \"h-10 w-10\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n            size: \"default\",\n        },\n    }\n)\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\n        const Comp = asChild ? Slot : \"button\"\n        return (\n            <Comp\n                className={cn(buttonVariants({ variant, size, className }))}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACtB,0RACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,2KAAgB,MAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACI,6LAAC;QACG,WAAW,IAAA,2IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/Player.tsx"],"sourcesContent":["'use client';\n\nimport {\n  Play,\n  Pause,\n  SkipBack,\n  SkipForward,\n  Shuffle,\n  Repeat,\n  Volume2,\n  VolumeX,\n  Maximize2,\n  Minimize2\n} from 'lucide-react';\nimport { usePlayer } from '@/context/PlayerContext';\nimport { Slider } from '@/components/ui/slider';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\nimport { useState, useEffect } from 'react';\n\nexport default function Player() {\n  const {\n    activeSong,\n    isPlaying,\n    togglePlay,\n    playNext,\n    playPrev,\n    isShuffle,\n    toggleShuffle,\n    isRepeat,\n    toggleRepeat,\n    currentTime,\n    duration,\n    seek,\n    volume,\n    isMuted,\n    setVolume,\n    toggleMute\n  } = usePlayer();\n\n  const [localProgress, setLocalProgress] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\n  }, []);\n\n  const toggleFullscreen = async () => {\n    if (!document.fullscreenElement) {\n      try {\n        await document.documentElement.requestFullscreen();\n      } catch (err) {\n        console.error(\"Error attempting to enable fullscreen:\", err);\n      }\n    } else {\n      if (document.exitFullscreen) {\n        await document.exitFullscreen();\n      }\n    }\n  };\n\n  const handleSeek = (value: number[]) => {\n    setLocalProgress(value[0]);\n    setIsDragging(true);\n  };\n\n  const handleSeekCommit = (value: number[]) => {\n    setIsDragging(false);\n    seek(value[0]);\n  };\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return \"0:00\";\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n\n  if (!activeSong) return null;\n\n  const currentProgress = isDragging ? localProgress : currentTime;\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50 h-[5.5rem] md:h-24 flex flex-col justify-center\">\n      {/* Progress Bar (Top) */}\n      <div className=\"absolute top-0 left-0 right-0 h-1.5 w-full z-10\">\n        <Slider\n          value={[currentProgress]}\n          max={duration || 100}\n          step={1}\n          className=\"w-full h-full hover:cursor-grab active:cursor-grabbing [&_.slider-track]:h-1.5 [&_.slider-range]:h-1.5 [&_.slider-thumb]:h-3 [&_.slider-thumb]:w-3 [&_.slider-thumb]:top-[-3px]\"\n          onValueChange={handleSeek}\n          onValueCommit={handleSeekCommit}\n        />\n      </div>\n\n      <div className=\"flex items-center justify-between px-4 w-full h-full\">\n        {/* Song Info */}\n        <div className=\"flex flex-1 min-w-0 md:w-1/3 items-center md:items-start flex-col gap-1 mr-4\">\n          <h4 className=\"text-sm font-semibold truncate hover:underline cursor-pointer w-full\">\n            {activeSong.title}\n          </h4>\n          <p className=\"text-xs text-muted-foreground truncate hover:underline cursor-pointer w-full\">\n            {activeSong.artist}\n          </p>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex items-center justify-center gap-2 md:gap-4 md:w-1/3\">\n          {/* Desktop Controls (Shuffle/Repeat/Previous) */}\n          <div className=\"hidden md:flex items-center gap-4\">\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className={cn(\"h-8 w-8 text-muted-foreground hover:text-primary\", isShuffle && \"text-primary\")}\n              onClick={toggleShuffle}\n            >\n              <Shuffle className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\n              onClick={playPrev}\n            >\n              <SkipBack className=\"h-5 w-5 fill-current\" />\n            </Button>\n          </div>\n\n          {/* Mobile: Prev/Next/Play always visible */}\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"md:hidden h-8 w-8 text-muted-foreground hover:text-primary\"\n            onClick={playPrev}\n          >\n            <SkipBack className=\"h-5 w-5 fill-current\" />\n          </Button>\n\n          <Button\n            size=\"icon\"\n            className=\"h-10 w-10 rounded-full shadow-md flex-shrink-0\"\n            onClick={togglePlay}\n          >\n            {isPlaying ? (\n              <Pause className=\"h-5 w-5 fill-current\" />\n            ) : (\n              <Play className=\"h-5 w-5 fill-current ml-0.5\" />\n            )}\n          </Button>\n\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\n            onClick={playNext}\n          >\n            <SkipForward className=\"h-5 w-5 fill-current\" />\n          </Button>\n\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className={cn(\"hidden md:inline-flex h-8 w-8 text-muted-foreground hover:text-primary\", isRepeat && \"text-primary\")}\n            onClick={toggleRepeat}\n          >\n            <Repeat className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        {/* Volume / Extra Actions - Desktop */}\n        <div className=\"hidden md:flex w-1/3 justify-end items-center gap-2\">\n          <span className=\"text-xs text-muted-foreground font-medium font-mono mr-2\">\n            {formatTime(currentProgress)} / {formatTime(duration)}\n          </span>\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\n            onClick={toggleMute}\n          >\n            {isMuted || volume === 0 ? <VolumeX className=\"h-5 w-5\" /> : <Volume2 className=\"h-5 w-5\" />}\n          </Button>\n          <Slider\n            value={[isMuted ? 0 : volume * 100]}\n            max={100}\n            step={1}\n            className=\"w-24 cursor-pointer\"\n            onValueChange={(value) => setVolume(value[0] / 100)}\n          />\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\n            onClick={toggleFullscreen}\n          >\n            {isFullscreen ? <Minimize2 className=\"h-4 w-4\" /> : <Maximize2 className=\"h-4 w-4\" />}\n          </Button>\n        </div>\n\n        {/* Mobile Fullscreen Toggle - integrated into right side */}\n        <div className=\"flex md:hidden ml-2\">\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"h-8 w-8 text-muted-foreground\"\n            onClick={toggleFullscreen}\n          >\n            {isFullscreen ? <Minimize2 className=\"h-4 w-4\" /> : <Maximize2 className=\"h-4 w-4\" />}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1528, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnny/Projects/johnny-music/apps/web/src/components/ApiConfigInit.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { setApiConfig } from '@johnny/api';\n\nexport function ApiConfigInit() {\n    useEffect(() => {\n        setApiConfig({\n            bucketUrl: process.env.NEXT_PUBLIC_CLOUDFLARE_BUCKET_PUBLIC_URL || '',\n            apiBaseUrl: '', // Relative path for same-origin API calls\n        });\n    }, []);\n\n    return null;\n}\n"],"names":[],"mappings":";;;;AAQuB;AANvB;AACA;AAAA;;AAHA;;;AAKO,SAAS;;IACZ,IAAA,0KAAS;mCAAC;YACN,IAAA,mJAAY,EAAC;gBACT,WAAW,2FAAwD;gBACnE,YAAY;YAChB;QACJ;kCAAG,EAAE;IAEL,OAAO;AACX;GATgB;KAAA"}}]
}